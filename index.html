<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Configurações básicas do documento -->
    <meta charset="UTF-8"> <!-- Define a codificação de caracteres para UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsividade em dispositivos móveis -->
    <title>Streaker</title> <!-- Título da página -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Link para o arquivo CSS externo -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Barra superior -->
    <div class="header-rectangle">
        <!-- Botão de voltar para a página inicial com ícone de casa -->
        <button onclick="window.location.href='register.html';" class="home-button">
            <i class="fa-solid fa-house"></i>
        </button>
        <!-- Foto do usuário; ao clicar, exibe opções de imagens -->
        <div class="user-photo">
            <img id="profile-picture" src="images/Chococat.webp" alt="Foto do Usuário" onclick="toggleImageSelection()">
        </div>
        <nav>
            <ul>
                <!-- Redireciona para a página de categorias -->
                <li><a href="categories.html">Categorias</a></li>
                <li><a href="#">Configurações</a></li>
            </ul>
        </nav>
    </div>

 
    <!-- Contêiner de seleção de imagem -->
    <div id="image-selection" class="image-selection hidden">
        <h2>Escolha sua foto de perfil</h2>
        <div class="image-options">
            <!-- Opções de imagens; cada imagem chama a função selectProfilePicture ao ser clicada -->
            <img src="images/Chococat.webp" alt="Chococat" onclick="selectProfilePicture('images/Chococat.webp')">
            <img src="images/Badtz Maru.png" alt="Badtz" onclick="selectProfilePicture('images/Badtz Maru.png')">
            <img src="images/Cinnamoroll.jpg" alt="Cinnamoroll" onclick="selectProfilePicture('images/Cinnamoroll.jpg')">
            <img src="images/Kuromi.jpg" alt="Kuromi" onclick="selectProfilePicture('images/Kuromi.jpg')">
            <img src="images/Keroppi.png" alt="Keroppi" onclick="selectProfilePicture('images/Keroppi.png')">
            <img src="images/Aggretsuko.png" alt="Aggretsuko" onclick="selectProfilePicture('images/Aggretsuko.png')">
            <img src="images/Hello Kitty.png" alt="Hello Kitty" onclick="selectProfilePicture('images/Hello Kitty.png')">
            <img src="images/My Melody.jpg" alt="My Melody" onclick="selectProfilePicture('images/My Melody.jpg')">
            <img src="images/Pochacco.png" alt="Pochacco" onclick="selectProfilePicture('images/Pochacco.png')">
            <img src="images/Pompompurin.jpg" alt="Pompompurin" onclick="selectProfilePicture('images/Pompompurin.jpg')">
        </div>
        <button onclick="toggleImageSelection()">Fechar</button>
    </div>

    <!-- Contêiner principal da aplicação -->
    <div id="app">
        <h1>Streaker</h1> <!-- Título principal da página -->

        <!-- Botão para adicionar uma nova streak -->
        <button onclick="showAddStreakPrompt()">Adicionar Streak</button>

        <!-- Contêiner onde todas as streaks criadas serão exibidas -->
        <div id="streaks-container">
            <!-- As streaks são geradas dinamicamente com JavaScript e serão inseridas aqui -->
        </div>
    </div>

    <!-- Importação do arquivo JavaScript para manipulação de dados e eventos na página -->
    <script src="js/script.js"></script>
    <script>
        // Função para mostrar/ocultar a barra lateral
        function toggleSidebar() {
            document.getElementById("sidebar").classList.toggle("active");
        }

        // Função para mostrar/ocultar a seleção de imagem
        function toggleImageSelection() {
            document.getElementById("image-selection").classList.toggle("hidden");
        }

        // Função para selecionar e salvar a imagem de perfil no localStorage
        function selectProfilePicture(imagePath) {
            localStorage.setItem('userPhoto', imagePath); // Salva o caminho da imagem no localStorage
            updateProfilePicture(imagePath); // Atualiza a imagem do usuário na página
            toggleImageSelection(); // Fecha o seletor de imagens
        }

        // Função para atualizar a imagem de perfil na página
        function updateProfilePicture(imagePath) {
            const profilePicture = document.getElementById("profile-picture");
            if (profilePicture) {
                profilePicture.src = imagePath; // Define o caminho da imagem selecionada
            }
        }

        // Carregar a imagem de perfil salva no localStorage ao carregar a página
        document.addEventListener('DOMContentLoaded', () => {
            const savedPhoto = localStorage.getItem('userPhoto'); // Obtém o caminho da imagem salva
            if (savedPhoto) {
                updateProfilePicture(savedPhoto); // Se houver uma imagem salva, exibe-a
            }
        });
    </script>
</body>
</html>
